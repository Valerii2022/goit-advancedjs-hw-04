{"version":3,"file":"commonHelpers.js","sources":["../src/pixabay-API.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api';\nconst KEY = '34628461-4bda2ae404146a46c3fd3a186';\n\nexport const fetchImages = async (query, page) => {\n  const params = {\n    key: KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page,\n  };\n  try {\n    const { data } = await axios.get(`${BASE_URL}`, { params });\n    return data;\n  } catch (error) {\n    throw new Error(err.message);\n  }\n};\n","// import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './pixabay-API';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  form: document.querySelector('.search-form'),\n  input: document.querySelector('.input'),\n  searchBtn: document.querySelector('.search-btn'),\n  list: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nlet page = 1;\n\nrefs.form.addEventListener('submit', handleSeachBtnClick);\n\nfunction handleSeachBtnClick(e) {\n  e.preventDefault();\n  refs.loader.classList.remove('hidden');\n  fetchImages(e.currentTarget.searchQuery.value.trim(), page)\n    .then(data => {\n      onSuccess(data);\n    })\n    .catch(err => {\n      refs.loader.classList.add('hidden');\n      console.log(err);\n    });\n\n  e.currentTarget.reset();\n}\n\nfunction onSuccess(data) {\n  refs.loader.classList.add('hidden');\n  refs.list.innerHTML = markup(data);\n  //   refs.list.insertAdjacentHTML('beforeend', markup(data));\n}\n\nfunction markup({ hits }) {\n  console.log(hits);\n  const result = hits\n    .map(el => {\n      return `<a class=\"link\" href=${el.largeImageURL} id=${el.id}><div class=\"photo-card\" >\n    <div class=\"img-wrap\"><img src=${el.webformatURL} alt=${el.tags} loading=\"lazy\" /></div>\n    <div class=\"info\">\n        <p class=\"info-item\">\n            <b>Likes</b>\n            <span>${el.likes}</span>\n        </p>\n        <p class=\"info-item\">\n            <b>Views</b>\n            <span>${el.views}</span>\n        </p>\n        <p class=\"info-item\">\n            <b>Comments</b>\n            <span>${el.comments}</span>\n        </p>\n        <p class=\"info-item\">\n            <b>Downloads</b>\n            <span>${el.downloads}</span>\n        </p>\n    </div>\n</div></a>`;\n    })\n    .join('');\n  return result;\n}\n\n//   iziToast.error({\n//     title: 'Error',\n//     message: `Oops! Something went wrong! Try reloading the page!`,\n//     layout: 2,\n//     position: 'topLeft',\n//     transitionIn: 'fadeInRight',\n//     transitionOut: 'fadeOutLeft',\n//   });\n\nnew SimpleLightbox('.link');\n"],"names":["BASE_URL","KEY","fetchImages","query","page","params","data","axios","refs","handleSeachBtnClick","e","onSuccess","err","markup","hits","el","SimpleLightbox"],"mappings":"6vBAEA,MAAMA,EAAW,0BACXC,EAAM,qCAECC,EAAc,MAAOC,EAAOC,IAAS,CAChD,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,CACJ,EACE,GAAI,CACF,KAAM,CAAE,KAAAE,CAAI,EAAK,MAAMC,EAAM,IAAI,GAAGP,IAAY,CAAE,OAAAK,CAAM,CAAE,EAC1D,OAAOC,CACR,MAAC,CACA,MAAM,IAAI,MAAM,IAAI,OAAO,CAC5B,CACH,ECdME,EAAO,CACX,KAAM,SAAS,cAAc,cAAc,EAC3C,MAAO,SAAS,cAAc,QAAQ,EACtC,UAAW,SAAS,cAAc,aAAa,EAC/C,KAAM,SAAS,cAAc,UAAU,EACvC,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEA,IAAIJ,EAAO,EAEXI,EAAK,KAAK,iBAAiB,SAAUC,CAAmB,EAExD,SAASA,EAAoBC,EAAG,CAC9BA,EAAE,eAAc,EAChBF,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrCN,EAAYQ,EAAE,cAAc,YAAY,MAAM,KAAM,EAAEN,CAAI,EACvD,KAAKE,GAAQ,CACZK,EAAUL,CAAI,CACpB,CAAK,EACA,MAAMM,GAAO,CACZJ,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClC,QAAQ,IAAII,CAAG,CACrB,CAAK,EAEHF,EAAE,cAAc,OAClB,CAEA,SAASC,EAAUL,EAAM,CACvBE,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,KAAK,UAAYK,EAAOP,CAAI,CAEnC,CAEA,SAASO,EAAO,CAAE,KAAAC,GAAQ,CACxB,eAAQ,IAAIA,CAAI,EACDA,EACZ,IAAIC,GACI,wBAAwBA,EAAG,oBAAoBA,EAAG;AAAA,qCAC1BA,EAAG,oBAAoBA,EAAG;AAAA;AAAA;AAAA;AAAA,oBAI3CA,EAAG;AAAA;AAAA;AAAA;AAAA,oBAIHA,EAAG;AAAA;AAAA;AAAA;AAAA,oBAIHA,EAAG;AAAA;AAAA;AAAA;AAAA,oBAIHA,EAAG;AAAA;AAAA;AAAA,WAIlB,EACA,KAAK,EAAE,CAEZ,CAWA,IAAIC,EAAe,OAAO"}