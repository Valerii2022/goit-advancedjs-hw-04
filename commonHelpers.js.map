{"version":3,"file":"commonHelpers.js","sources":["../src/pixabay-API.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api';\nconst KEY = '34628461-4bda2ae404146a46c3fd3a186';\n\n// export const fetchImages = async (query, page) => {\n//   const params = {\n//     key: KEY,\n//     q: query,\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: true,\n//     page,\n//   };\n//   try {\n//     const { data } = await axios.get(`${BASE_URL}`, { params });\n//     return data;\n//   } catch (error) {\n//     throw new Error(error.message);\n//   }\n// };\n\nexport class PixabayAPI {\n  #API_KEY = '34628461-4bda2ae404146a46c3fd3a186';\n  #BASE_API = 'https://pixabay.com/api/';\n\n  baseSearchParams = {\n    key: this.#API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  async fetchPhotos(page, query) {\n    try {\n      const { data } = await axios.get(`${this.#BASE_API}`, {\n        params: { ...this.baseSearchParams, page, q: query },\n      });\n      return data;\n    } catch (err) {\n      throw new Error(err.message);\n    }\n  }\n}\n","// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\nimport { PixabayAPI } from './pixabay-API';\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  form: document.querySelector('.search-form'),\n  input: document.querySelector('.input'),\n  searchBtn: document.querySelector('.search-btn'),\n  list: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nconst pixabayApi = new PixabayAPI();\n\nlet page = 1;\n\nrefs.form.addEventListener('submit', handleSeachBtnClick);\n\nfunction handleSeachBtnClick(e) {\n  e.preventDefault();\n  refs.loader.classList.remove('hidden');\n  pixabayApi\n    .fetchPhotos(e.currentTarget.searchQuery.value.trim(), page)\n    .then(data => {\n      onSuccess(data);\n    })\n    .catch(err => {\n      refs.loader.classList.add('hidden');\n      console.log(err);\n    });\n\n  e.currentTarget.reset();\n}\n\nfunction onSuccess(data) {\n  refs.loader.classList.add('hidden');\n  refs.list.innerHTML = markup(data);\n  //   refs.list.insertAdjacentHTML('beforeend', markup(data));\n}\n\nfunction markup({ hits }) {\n  const result = hits\n    .map(el => {\n      return `<a class=\"link\" href=${el.largeImageURL} id=${el.id}><div class=\"photo-card\" >\n    <div class=\"img-wrap\"><img src=${el.webformatURL} alt=${el.tags} loading=\"lazy\" /></div>\n    <div class=\"info\">\n        <p class=\"info-item\">\n            <b>Likes</b>\n            <span>${el.likes}</span>\n        </p>\n        <p class=\"info-item\">\n            <b>Views</b>\n            <span>${el.views}</span>\n        </p>\n        <p class=\"info-item\">\n            <b>Comments</b>\n            <span>${el.comments}</span>\n        </p>\n        <p class=\"info-item\">\n            <b>Downloads</b>\n            <span>${el.downloads}</span>\n        </p>\n    </div>\n</div></a>`;\n    })\n    .join('');\n  return result;\n}\n\n//   iziToast.error({\n//     title: 'Error',\n//     message: `Oops! Something went wrong! Try reloading the page!`,\n//     layout: 2,\n//     position: 'topLeft',\n//     transitionIn: 'fadeInRight',\n//     transitionOut: 'fadeOutLeft',\n//   });\n\n// new SimpleLightbox('.link');\n"],"names":["PixabayAPI","__privateAdd","_API_KEY","_BASE_API","__publicField","__privateGet","page","query","data","axios","err","refs","pixabayApi","handleSeachBtnClick","e","onSuccess","markup","hits","el"],"mappings":"2qCAsBO,MAAMA,CAAW,CAAjB,cACLC,EAAA,KAAAC,EAAW,sCACXD,EAAA,KAAAE,EAAY,4BAEZC,EAAA,wBAAmB,CACjB,IAAKC,EAAA,KAAKH,GACV,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,GAEE,MAAM,YAAYI,EAAMC,EAAO,CAC7B,GAAI,CACF,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMC,EAAM,IAAI,GAAGJ,EAAA,KAAKF,KAAa,CACpD,OAAQ,CAAE,GAAG,KAAK,iBAAkB,KAAAG,EAAM,EAAGC,CAAO,CAC5D,CAAO,EACD,OAAOC,CACR,OAAQE,EAAP,CACA,MAAM,IAAI,MAAMA,EAAI,OAAO,CAC5B,CACF,CACH,CApBER,EAAA,YACAC,EAAA,YClBF,MAAMQ,EAAO,CACX,KAAM,SAAS,cAAc,cAAc,EAC3C,MAAO,SAAS,cAAc,QAAQ,EACtC,UAAW,SAAS,cAAc,aAAa,EAC/C,KAAM,SAAS,cAAc,UAAU,EACvC,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMC,EAAa,IAAIZ,EAEvB,IAAIM,EAAO,EAEXK,EAAK,KAAK,iBAAiB,SAAUE,CAAmB,EAExD,SAASA,EAAoBC,EAAG,CAC9BA,EAAE,eAAc,EAChBH,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrCC,EACG,YAAYE,EAAE,cAAc,YAAY,MAAM,KAAM,EAAER,CAAI,EAC1D,KAAKE,GAAQ,CACZO,EAAUP,CAAI,CACpB,CAAK,EACA,MAAME,GAAO,CACZC,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClC,QAAQ,IAAID,CAAG,CACrB,CAAK,EAEHI,EAAE,cAAc,OAClB,CAEA,SAASC,EAAUP,EAAM,CACvBG,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,KAAK,UAAYK,EAAOR,CAAI,CAEnC,CAEA,SAASQ,EAAO,CAAE,KAAAC,GAAQ,CA0BxB,OAzBeA,EACZ,IAAIC,GACI,wBAAwBA,EAAG,oBAAoBA,EAAG;AAAA,qCAC1BA,EAAG,oBAAoBA,EAAG;AAAA;AAAA;AAAA;AAAA,oBAI3CA,EAAG;AAAA;AAAA;AAAA;AAAA,oBAIHA,EAAG;AAAA;AAAA;AAAA;AAAA,oBAIHA,EAAG;AAAA;AAAA;AAAA;AAAA,oBAIHA,EAAG;AAAA;AAAA;AAAA,WAIlB,EACA,KAAK,EAAE,CAEZ"}